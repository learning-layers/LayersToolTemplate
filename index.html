<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <meta name="author" content="">
  <link rel="shortcut icon" href="extras/favicon.ico">

  <title>Layers tool template</title>

  <!-- Bootstrap core CSS -->
  <link href="css/bootstrap.min.css" rel="stylesheet">
  <!-- Bootstrap theme -->
  <link href="css/bootstrap-theme.min.css" rel="stylesheet">
  <!-- Custom styles for this template -->
  <link href="theme.css" rel="stylesheet">
  <link href="css/jquery-ui-layers-theme/jquery-ui-1.10.4.custom.min.css" rel="stylesheet">   

  <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
      <![endif]-->
    </head>

    <body role="document">

      <!-- Fixed navbar -->
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
        <div class="container">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#"> Example Layers tool</a>
          </div>
          <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
              <li><a href="elements.html">UI elements</a></li>
              <li><a href="grid.html">Grid system</a></li>
            </ul>
              <!-- 
              OpenID Connect Button - Step 3: add HTML element representing button 
              see https://github.com/learning-layers/openid-connect-button 
              -->              
              <span class="oidc-signin navbar-btn navbar-right btn-default"
                  data-callback="signinCallback"
                  data-name="Learning Layers"
                  data-size="sm"
                  data-nofill="1"
                  data-logo="extras/logo48.png"
                  data-server="http://api.learning-layers.eu/o/oauth2"
                  data-clientid="CLIENTID_HERE"
                  data-scope="openid phone email address profile">
              </span>
            <form class="navbar-form navbar-right" role="search" style="margin-right:0px">
              <div class="form-group">
                <input type="text" class="form-control" placeholder="Search">
                <button type="submit" class="btn btn-default btn-sm">Submit</button>
              </div>
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>

      <div class="container" role="main">
        <div class="row">
          <div class="col-sm-8">
            <div class="well ui-droppable" style="height:400px;"> 
              <div class="page-header">
                <h1>Share photos of your unfinished work</h1>
              </div>   
            </div>
          </div>
          <div class="col-sm-4">
            <div class="row">
              <div class="col-xs-6">
                <button type="button" style="width:100%;" class="btn btn-primary" title="Take photo">
                  <span class="glyphicon glyphicon-camera"></span>
                </button>
              </div>
              <div class="col-xs-6">
                <button type="button" style="width:100%;" class="btn btn-success disabled" title="Upload">
                  <span class="glyphicon glyphicon-cloud-upload"></span>
                </button>
              </div>
            </div>

            <div class="row" style="margin-top:2em;">
                <div class="col-xs-6 col-sm-12">
                  <div class="thumbnail ui-draggable">
                    <img src="extras/site.jpg"  alt="Thumbnail version" width="200"/>
                    <div class="caption">
                      <p>Photo from <a href="#">Pekka</a> <button type="button" class="btn btn-xs btn-primary pull-right">Nice!</button></p> 
                    </div>
                  </div>      
                </div>
                <div class="col-xs-6 col-sm-12">
                  <div class="thumbnail ui-draggable">
                    <img src="extras/site.jpg"  alt="Thumbnail version" width="200"/>
                    <div class="caption">
                      <p>Photo from <a href="#">Pekka</a> <button type="button" class="btn btn-xs btn-primary pull-right">Nice!</button></p> 
                    </div>
                  </div>      
                </div>
                <div class="col-xs-6 col-sm-12">
                  <div class="thumbnail ui-draggable">
                    <img src="extras/site.jpg"  alt="Thumbnail version" width="200"/>
                    <div class="caption">
                      <p>Photo from <a href="#">Pekka</a> <button type="button" class="btn btn-xs btn-primary pull-right">Nice!</button></p> 
                    </div>
                  </div>      
                </div>
                <div class="col-xs-6 col-sm-12">
                  <div class="thumbnail ui-draggable">
                    <img src="extras/site.jpg"  alt="Thumbnail version" width="200"/>
                    <div class="caption">
                      <p>Photo from <a href="#">Pekka</a> <button type="button" class="btn btn-xs btn-primary pull-right">Nice!</button></p> 
                    </div>
                  </div>      
                </div>

              </div>
          </div>
        </div>  

      </div>

    </div> <!-- /container -->


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/jquery-ui.min.js"></script>
    <script src="js/jquery.ui.touch-punch.min.js"></script>
    <!-- <script src="js/jquery-ui-1.10.4.custom.min.js"></script> -->
    <script src="js/bootstrap.min.js"></script>
    <!-- import JWS and JSRSASIGN (must for OIDC connect button) -->
    <script type="text/javascript" src="./js/jsjws/jws-2.0.js"></script>
    <script type="text/javascript" src="./js/jsrsasign/ext/base64.js"></script>
    <script type="text/javascript" src="./js/jsrsasign/base64x-1.1.js"></script>
    <script type="text/javascript" src="./js/jsrsasign/ext/jsbn.js"></script>
    <script type="text/javascript" src="./js/jsrsasign/ext/jsbn2.js"></script>
    <script type="text/javascript" src="./js/jsrsasign/asn1hex-1.1.js"></script>
    <script type="text/javascript" src="./js/jsrsasign/crypto-1.1.js"></script>
    <script type="text/javascript" src="./js/jsrsasign/ext/rsa.js"></script>
    <script type="text/javascript" src="./js/jsrsasign/ext/rsa2.js"></script>
    <script type="text/javascript" src="./js/jsrsasign/rsapem-1.1.js"></script>
    <script type="text/javascript" src="./js/jsrsasign/rsasign-1.2.min.js"></script>
    <script type="text/javascript" src="./js/jsrsasign/x509-1.1.js"></script>
    <script type="text/javascript" src="./js/jsrsasign/crypto-1.1.js"></script>


    <script>
      $(function() {
        $(".ui-draggable").draggable({ revert: "invalid" });
        $(".ui-droppable").droppable();
      });

      // OpenID Connect Button - Step 2: add this script element right before closing </body> tag 
      // see https://github.com/learning-layers/openid-connect-button 
      (function() {
        var po = document.createElement('script'); 
        po.type = 'text/javascript'; 
        po.async = true;
        po.src = './js/oidc-button.js';
        var s = document.getElementsByTagName('script')[0]; 
        s.parentNode.insertBefore(po, s);
      })();

      // OpenID Connect Button - Step 4: implement a callback function
      // see https://github.com/learning-layers/openid-connect-button 
      function signinCallback(result) {
        if(result === "success"){
          // at this point, developers have access to several pieces of information
          // relevant to OpenID Connect (see ./oidc-button.js)
          console.log("OpenID Connect Provider Configuration:");
          console.log(oidc_provider_config);
          console.log("OpenID Connect User Info:");
          console.log(oidc_userinfo);
          console.log("OpenID Connect ID Token:");
          console.log(oidc_idtoken);
          
          $("#status").html("Hello, " + oidc_userinfo.name + "!");
        } else {
          console.log("not signed in...");
          console.log(result);
          $("#status").html("Do I know you?!");
        }
      }

      // Note: OpenID Connect Button - Step 1 is about registering app to OIDC. Login button doesn't work all the way before it.  

    </script>
  </body>
  </html>
